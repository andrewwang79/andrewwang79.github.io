---
layout: post
title:  "git"
date:   2015-05-18
catalog: true
tags:
    - 技术
    - git
---

# 版本模型
资料：[分支模型](http://blog.csdn.net/qq_34651940/article/details/51891767)，[英文原版](http://nvie.com/posts/a-successful-git-branching-model/)

|分支类型 | 名称 | 永久 | 命名规范 | 来源 | 操作 | 合并到 | 角色 |
| -------- | ----- | ----- | ----- | ---- |----- | ----- | ---- |
| master | 主干，正式环境 | Y | master | release，hotfix | 无 | 无 | 发布人员 |
| develop  | 开发分支，开发环境 | Y |  dev | 无 | 任意 | 无 | 开发人员 |
| feature | 功能分支 | N |  V2.3_ft_代付_lyx。V版本号__ft_功能说明_负责人 | dev | 任意 | dev | 开发人员 |
| release | 版本发布分支 | N | V2.3_rl_20161111。V版本号__rl_版本日期 | dev | bugfix | dev | 发布人员，开发人员 |
| hotfix | 补丁分支 | N | V2.2_hf_123456-332452_wyq。V版本号__hf_bug说明_负责人 | master | bugfix | dev | 发布人员，开发人员 |

注意事项
1. master上的每次提交都是一个发布版本。同时需要打标签。
1. hotfix时，当有一个release分支同时存在时，这个hotfix分支必须被合并到release分支而不是dev分支(release会合并到dev)。
1. 模型精简方法：当前版本的feature无需另开分支，直接在dev开发。长期feature需开分支。

# 部署环境

| 环境 | 对应分支 | 说明 |
| :----: | ---- | ---- |
| 开发环境 | dev+feature | 开发人员自行搭建，可复用测试环境数据库 |
| 测试环境 | dev |  |
| 发布环境 | release或者hotfix | 可复用测试环境数据库 |
| 正式环境 | master | 独立数据库 |

# 资料
[Git 常用命令整理](http://justcoding.iteye.com/blog/1830388)
[使用](https://www.zybuluo.com/lyxiang/note/605932)
[git – 简易指南](http://www.bootcss.com/p/git-guide/)
测试git的环境：https://git.coding.net/andrewwang79/train.git
